[33m[nodemon] 3.1.11[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): src/**/*[39m
[33m[nodemon] watching extensions: ts,tsx,js,jsx[39m
[32m[nodemon] starting `next dev -p 3000`[39m
   â–² Next.js 15.3.5
   - Local:        http://localhost:3000
   - Network:      http://192.168.0.5:3000
   - Environments: .env

 âœ“ Starting...
 âœ“ Ready in 1478ms
 â—‹ Compiling / ...
 âœ“ Compiled / in 1265ms (922 modules)
 GET / 200 in 1490ms
 âœ“ Compiled /_not-found in 213ms (926 modules)
 GET /api/auth/me 404 in 299ms
 GET / 200 in 94ms
 âœ“ Compiled /landing in 221ms (933 modules)
 GET /landing 200 in 274ms
 âœ“ Compiled /api/check-admin in 109ms (954 modules)
prisma:info Starting a sqlite pool with 17 connections.
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`users`.`id` FROM `main`.`users` WHERE `main`.`users`.`role` = ? LIMIT ? OFFSET ?) AS `sub`
 GET /api/check-admin 200 in 214ms
 âœ“ Compiled /login in 252ms (1030 modules)
 GET /login 200 in 314ms
 âœ“ Compiled /api/auth/login in 157ms (1112 modules)
LOGIN BODY: { email: 'admin@admin.com', password: 'admin123' }
prisma:info Starting a sqlite pool with 17 connections.
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`password`, `main`.`users`.`role`, `main`.`users`.`isActive`, `main`.`users`.`canDownload`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
 POST /api/auth/login 200 in 307ms
 GET / 200 in 30ms
 âœ“ Compiled /api/dashboard/stats in 109ms (1115 modules)
prisma:info Starting a sqlite pool with 17 connections.
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE `main`.`transactions`.`date` >= ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE `main`.`transactions`.`date` >= ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE `main`.`transactions`.`date` >= ? LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`transactions`.`id` FROM `main`.`transactions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 GET /api/dashboard/stats 200 in 152ms
 âœ“ Compiled /api/transactions in 178ms (1117 modules)
prisma:info Starting a sqlite pool with 17 connections.
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE 1=1 ORDER BY `main`.`transactions`.`date` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`name`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`transactions`.`id` FROM `main`.`transactions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 GET /api/transactions?limit=5 200 in 209ms
 âœ“ Compiled /transactions in 470ms (1168 modules)
 GET /transactions 200 in 514ms
prisma:info Starting a sqlite pool with 17 connections.
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE 1=1 ORDER BY `main`.`transactions`.`date` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`name`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`transactions`.`id` FROM `main`.`transactions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 GET /api/transactions 200 in 24ms
 âœ“ Compiled /api/upload in 222ms (1149 modules)
 POST /api/upload 200 in 298ms
prisma:info Starting a sqlite pool with 17 connections.
prisma:query BEGIN IMMEDIATE
prisma:query INSERT INTO `main`.`transactions` (`id`, `date`, `amount`, `category`, `description`, `paymentMethod`, `partyName`, `invoiceImage`, `requiresAuth`, `createdAt`, `updatedAt`, `userId`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE `main`.`transactions`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`name`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query COMMIT
 POST /api/transactions 200 in 42ms
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE 1=1 ORDER BY `main`.`transactions`.`date` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`name`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`transactions`.`id` FROM `main`.`transactions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 GET /api/transactions 200 in 3ms
 âœ“ Compiled /api/dashboard/stats in 90ms (670 modules)
prisma:info Starting a sqlite pool with 17 connections.
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE `main`.`transactions`.`date` >= ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE `main`.`transactions`.`date` >= ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE `main`.`transactions`.`date` >= ? LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`transactions`.`id` FROM `main`.`transactions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 GET /api/dashboard/stats 200 in 127ms
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE 1=1 ORDER BY `main`.`transactions`.`date` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`name`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`transactions`.`id` FROM `main`.`transactions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 GET /api/transactions?limit=5 200 in 5ms
 âœ“ Compiled /admin in 462ms (1186 modules)
 GET /admin 200 in 519ms
 GET /admin 200 in 10ms
 âœ“ Compiled /api/admin/users in 96ms (1175 modules)
prisma:info Starting a sqlite pool with 17 connections.
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive`, `main`.`users`.`canDownload`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE 1=1 ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
 GET /api/admin/users 200 in 129ms
 âœ“ Compiled /api/admin/stats in 84ms (1177 modules)
prisma:info Starting a sqlite pool with 17 connections.
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`users`.`id` FROM `main`.`users` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`users`.`id` FROM `main`.`users` WHERE `main`.`users`.`isActive` = ? LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`transactions`.`id` FROM `main`.`transactions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT SUM(`amount`) AS `_sum$amount` FROM (SELECT `main`.`transactions`.`amount` FROM `main`.`transactions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 GET /api/admin/stats 200 in 113ms
 âœ“ Compiled /api/admin/backup in 294ms (1179 modules)
 GET /api/admin/backup 405 in 344ms
 GET / 200 in 85ms
prisma:info Starting a sqlite pool with 17 connections.
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE `main`.`transactions`.`date` >= ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE `main`.`transactions`.`date` >= ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE `main`.`transactions`.`date` >= ? LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`transactions`.`id` FROM `main`.`transactions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 GET /api/dashboard/stats 200 in 26ms
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE 1=1 ORDER BY `main`.`transactions`.`date` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`name`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`transactions`.`id` FROM `main`.`transactions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 GET /api/transactions?limit=5 200 in 9ms
 GET / 200 in 441ms
 âœ“ Compiled /_not-found in 485ms (1070 modules)
 GET /api/auth/me 404 in 617ms
 âœ“ Compiled /landing in 257ms (588 modules)
 GET /landing 200 in 317ms
 âœ“ Compiled /api/check-admin in 82ms (608 modules)
prisma:info Starting a sqlite pool with 17 connections.
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`users`.`id` FROM `main`.`users` WHERE `main`.`users`.`role` = ? LIMIT ? OFFSET ?) AS `sub`
 GET /api/check-admin 200 in 236ms
 GET /login 200 in 62ms
 âœ“ Compiled /api/auth/login in 166ms (690 modules)
LOGIN BODY: { email: 'admin@admin.com', password: 'admin123' }
prisma:info Starting a sqlite pool with 17 connections.
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`password`, `main`.`users`.`role`, `main`.`users`.`isActive`, `main`.`users`.`canDownload`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
 POST /api/auth/login 200 in 283ms
 GET / 200 in 33ms
 âœ“ Compiled /api/dashboard/stats in 80ms (693 modules)
prisma:info Starting a sqlite pool with 17 connections.
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE `main`.`transactions`.`date` >= ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE `main`.`transactions`.`date` >= ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE `main`.`transactions`.`date` >= ? LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`transactions`.`id` FROM `main`.`transactions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 GET /api/dashboard/stats 200 in 117ms
 âœ“ Compiled /api/transactions in 100ms (695 modules)
prisma:info Starting a sqlite pool with 17 connections.
prisma:query SELECT `main`.`transactions`.`id`, `main`.`transactions`.`date`, `main`.`transactions`.`amount`, `main`.`transactions`.`category`, `main`.`transactions`.`description`, `main`.`transactions`.`paymentMethod`, `main`.`transactions`.`partyName`, `main`.`transactions`.`invoiceImage`, `main`.`transactions`.`requiresAuth`, `main`.`transactions`.`authorizedBy`, `main`.`transactions`.`authorizedAt`, `main`.`transactions`.`createdAt`, `main`.`transactions`.`updatedAt`, `main`.`transactions`.`userId` FROM `main`.`transactions` WHERE 1=1 ORDER BY `main`.`transactions`.`date` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`name`, `main`.`users`.`email` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count$_all` FROM (SELECT `main`.`transactions`.`id` FROM `main`.`transactions` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
 GET /api/transactions?limit=5 200 in 150ms
